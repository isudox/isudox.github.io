---
title: "数据结构和算法在存储中的经典应用"
date: 2020-09-26T14:25:46+08:00
draft: true
tags:
  - Algorithm
  - Database
  - Data Structure
---

> Algorithms + Data Structures = Programs —— Niklaus Wirth

先搬出写了 Pascal、拿了图灵奖的大牛的名言，不讨论这个定义的合理性，只作为本文的引子。
在数据库领域，当我们谈论其原理，绕不开存储中的数据结构。本文从几个经典应用出发，管窥数据结构在存储中的重要性。

<!-- more -->

由于树的特点，在索引查询起到至关重要的作用，因此树在存储中有着许多经典的运用，比如被翻来覆去讲的 `B 树`，`B+ 树`。

# LSM Tree

先抛出问题，假如要实现一个数据库系统，实现最简单的写入/读取数据的功能，该如何设计它的存储。我们已经知道，磁盘的顺序读写比随机读写更快（基准测试参考 []()），那么最佳的写入方案就是把数据行更新到文件末尾。为了避免 `O(N)` 的逐行查询，我们还需要建立索引，可以考虑 Hash，但是要付出 `O(N)` 的空间复杂度。如果数据写入时已经做好排序，树就可以派上用场。由于树的特点，在索引查询起到至关重要的作用，比如 `B-Tree`，`B+ Tree`。
当数据库用户越来越多，并发写入量越来越大，`B 树` 需要处理大量的数据，不断变更树的结构，由此可见，`B 树` 的瓶颈在于写。那对于这种高并发写的场景，有没有其它适用的数据结构可以优化写问题。
`LSM 树` 解决了这个问题。

# Bw-Tree

# Skiplist

# Circular Buffer

----

# 参考资料

- [LSM Tree 论文](https://www.cs.umb.edu/~poneil/lsmtree.pdf)
- [论 B+ 树索引的演进方向（上）](http://mysql.taobao.org/monthly/2018/11/01/)

# 引用

- [1] 
- [2]