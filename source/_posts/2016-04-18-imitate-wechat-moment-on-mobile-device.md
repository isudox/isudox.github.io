---
title: 移动端仿微信朋友圈发布图文
date: 2016-04-18 19:55:14
tags: Canvas
categories: Coding
---

最近一个项目需要在移动端开发一个类似微信朋友圈的功能，从前端到后端都遇到了一些坑，其中有些经过还是很值得记录下来。

<!-- more -->

由于微信朋友圈的火爆和用户基础，因此 JD 的这个项目中类朋友圈的原型设计基本也是抄袭的微信，只不过换成 HTML5 的样式，所以原型图就不贴出来了……要实现的功能大致等于微信朋友圈，用户通过手机相册或摄像头上传图片，发布到京东 App 的一个版块里，由于一期不开发社交功能，因此没有朋友圈留言功能（电商 App 不务正业，真是无力吐槽）。
从项目前端部分开始吧。

### 前端

在移动端通过 HTML 页面上传图文，并不能粗暴的沿用以往 PC 端上的做法。在 PC 端，通常我们会使用百度的 [WebUploader](http://fex.baidu.com/webuploader/mv) 组件，或者 [jQuery-File-Upload](https://github.com/blueimp/jQuery-File-Upload)，再久远些还有一些 Flash 的文件上传工具，略过不表。移动端的玩法却不大一样，最主要的还是因为网络环境的差异，现在手机拍照动辄就好几兆的文件大小，如果像微信一次上传多张

### 后端

### 优化